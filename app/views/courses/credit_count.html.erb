<% provide :title, ('当前用户：' + current_user.name if logged_in?) %>
<% provide :subtitle, ('学分统计') %>
<body style="background: none">

<%= render 'shared/sidebar' %>
<%= render 'shared/bootstrap_table' %>
<div class="right-side-div">

  <h1><%= yield :subtitle %></h1>
  <div class="divide"></div>
  <% flash.each do |message_type, message| %>
    <div class="alert course-alert alert-<%= message_type %>"><%= message %></div>
  <% end %>

  <table class="table table-hover">
    <thead>
    <th>
      专业必修课
    </th>
    <th>
      专业选修课
    </th>
    <th>
      专业核心课
    </th>
    <th>
      公共必修课
    </th>
    <th>
      公共选修课
    </th>
    <th>
      专业讨论课
    </th>
    <th>
      总计学分
    </th>
    </thead>
    <tbody>
    <tr>
      <td><%= grade_count @current_user.courses.where(course_type: "专业必修课") %></td>
      <td><%= grade_count @current_user.courses.where(course_type: "专业选修课") %></td>
      <td><%= grade_count @current_user.courses.where(course_type: "专业核心课") %></td>
      <td><%= grade_count @current_user.courses.where(course_type: "公共必修课") %></td>
      <td><%= grade_count @current_user.courses.where(course_type: "公共选修课") %></td>
      <td><%= grade_count @current_user.courses.where(course_type: "专业讨论课") %></td>
      <td><%= grade_count @current_user.courses %></td>
    </tr>
    </tbody>
  </table>

</div>

<style>

  th {
    text-align: center;
  }

</style>

</body>